<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Патентный ландшафт ОИЯИ</title>
    <!-- Google Fonts: Roboto для основного текста, Merriweather для заголовков (курсив) -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Merriweather:ital,wght@0,400;1,400;1,700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="bg-primary text-white py-3">
        <div class="container">
            <div class="row align-items-center justify-content-start"> <!-- Добавил justify-content-start для левого выравнивания -->
                <!-- Эмблема слева -->
                <div class="col-auto">
                    <img src="logo-jinr.png" alt="Эмблема ОИЯИ" class="logo-img">
                </div>
                <!-- Заголовки слева, ближе к эмблеме (убрал text-center, добавил text-start) -->
                <div class="col text-start"> <!-- text-start = left align -->
                    <h1 class="main-title mb-1">Патентный ландшафт ОИЯИ</h1>
                    <p class="mb-0">Анализ патентов Объединенного института ядерных исследований</p>
                </div>
                <!-- Убрал пустой col — теперь всё слева -->
            </div>
        </div>
    </header>

    <div class="container-fluid my-4">
        <!-- Поиск (теперь с классом sticky-search) -->
        <div class="row sticky-search mb-4">
            <div class="col-12">
                <input type="text" id="search-input" class="form-control" placeholder="Поиск по названию или авторам...">
            </div>
        </div>

        <!-- Графики 1 и 2: Рядом (col-md-6) -->
        <div class="row">
            <!-- График 1: Динамика по годам -->
            <div class="col-md-6 mb-4">
                <div class="card">
                    <div class="card-header">Динамика количества полученных патентов по годам</div>
                    <div class="card-body">
                        <canvas id="yearChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- График 2: Топ-10 авторов -->
            <div class="col-md-6 mb-4">
                <div class="card">
                    <div class="card-header">Топ-10 авторов патентов</div>
                    <div class="card-body">
                        <canvas id="authorsChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- График 3: Популярные направления (теперь таблица, полная ширина, col-12) -->
        <div class="row">
            <div class="col-12 mb-4">
                <div class="card">
                    <div class="card-header">Наиболее популярные направления патентов (топ-10)</div>
                    <div class="card-body">
                        <div id="directionsTable" class="table-responsive"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- График 4: Распределение по МПК (полная ширина, col-12, под таблицей) -->
        <div class="row">
            <div class="col-12 mb-4">
                <div class="card">
                    <div class="card-header">Распределение по разделам МПК (IPC)</div>
                    <div class="card-body">
                        <canvas id="ipcChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Фильтры перед таблицей данных -->
        <div class="row filters-row mb-3">
            <!-- Фильтр по МПК -->
            <div class="col-md-6 filter-section">
                <h6 class="mb-2">Фильтр по коду МПК</h6>
                <div id="ipcFilter" class="filter-container"></div>
                <button id="clearIpc" class="btn btn-sm btn-outline-secondary mt-2">Сбросить выбор</button>
            </div>
            <!-- Фильтр по году -->
            <div class="col-md-6 filter-section">
                <h6 class="mb-2">Фильтр по году</h6>
                <div id="yearFilter" class="filter-container"></div>
                <button id="clearYear" class="btn btn-sm btn-outline-secondary mt-2">Сбросить выбор</button>
            </div>
        </div>

        <!-- Таблица данных (опционально) -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">данные по всем действующим патентам</div>
                    <div class="card-body">
                        <div id="dataTable" class="table-responsive"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>